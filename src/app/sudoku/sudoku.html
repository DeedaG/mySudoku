
<script async 
src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5670541810503551"
     crossorigin="anonymous"></script>

     

<div class="layout">

  <!-- LEFT / TOP column -->
  <div class="sidebar">
    <strong class="title">ðŸ§© Sudoku</strong>
    <app-donate></app-donate>
    <div class="controls-row">
      <button class="new-game" (click)="newPuzzle()">ðŸ§© New Game</button>

      <div class="difficulty">
        <label >Difficulty</label>
        <select [(ngModel)]="difficulty" (change)="onDifficultyChange()">
          <option value="easy">Easy</option>
          <option value="medium">Medium</option>
          <option value="hard">Hard</option>
          <option value="evil">Evil</option>
        </select>
      </div>
    </div>
    <button class="notes-button" (click)="toggleNotes()">
      {{ notesMode ? 'Notes On' : 'Notes Off' }}
    </button>

    <app-ads></app-ads>
  </div>

  <!-- RIGHT column = puzzle + solved message -->
  <div class="puzzle-area">

    @if (solved && celebrate()) {
      <div class="solved-message">
        ðŸŽ‰ Congratulations! You solved the puzzle!
      </div>
    }

    <div class="sudoku-wrapper">

      <!-- Container with background image -->
      <div class="board-container">
        <div class="sudoku-board">
          @for (row of valuesGrid; track trackByIndex($index, row); let i = $index) {
            <div class="row">
            @for (_ of row; track trackByIndex($index, _); let j = $index) {
                  <div class="cell-wrapper">
                  @if (!notesMode) {
                    <input
                      class="cell"
                      type="text"
                      maxlength="1"
                      [(ngModel)]="valuesGrid[i][j]"
                      (ngModelChange)="onCellInput(i, j, $event)"
                      [readOnly]="fixed[i][j]"
                      [class.fixed]="fixed[i][j]"
                      [class.error]="errors[i][j]"
                      (click)="onCellTap(i, j)"
                      (keydown)="onKeyDown($event)"
                    />
                  }

                  @if (notesMode) {
                    <div class="cell notes-mode">
                      <div class="cell-value">
                        {{ valuesGrid[i][j] }}
                      </div>
                      <div class="notes">
                        @for (n of notesGrid[i][j]; track trackByIndex($index, n)) {
                          <div class="note">{{ n }}</div>
                        }
                      </div>
                      <input
                        class="cell-input"
                        type="text"
                        maxlength="1"
                        (ngModelChange)="onCellInput(i, j, $event)"
                        [ngModel]="''"  
                        [readOnly]="fixed[i][j]"
                        (click)="onCellTap(i, j)"
                        (keydown)="onKeyDown($event)"
                      />
                    </div>
                  }
                </div>

              }
            </div>
          }

        </div>
      </div>

    </div><!-- sudoku-wrapper -->
    <div class="christi">Christi Games</div>

  </div><!-- puzzle-area -->

</div><!-- layout -->
